{
    "endpoints": {
        "1_listar_productos": {
            "method": "GET",
            "url": "/api/productos",
            "description": "Listar productos con filtros y paginación",
            "headers": {
                "Authorization": "Bearer {token}",
                "Accept": "application/json",
                "Content-Type": "application/json"
            },
            "query_parameters": {
                "search": "anillo",
                "tipo_producto_id": 1,
                "tipo_oro_id": 2,
                "empresa_id": 1,
                "codigo_barras": "123456",
                "precio_venta_min": 50.00,
                "precio_venta_max": 500.00,
                "precio_compra_min": 30.00,
                "precio_compra_max": 400.00,
                "fecha_desde": "2025-01-01",
                "fecha_hasta": "2025-12-31",
                "sort": "nombre_asc",
                "page": 1,
                "per_page": 10
            },
            "response_200": {
                "data": [
                    {
                        "id": 1,
                        "nombre": "Anillo de Oro 18K",
                        "descripcion": "Anillo de oro de 18 quilates con diseño clásico",
                        "codigo_barras": "7891234567890",
                        "precio_venta": 350.50,
                        "precio_compra": 280.00,
                        "peso": 5.5,
                        "imagen": "productos/anillo-oro-18k.jpg",
                        "imagen_url": "http://example.com/storage/productos/anillo-oro-18k.jpg",
                        "tipo_producto_id": 1,
                        "tipo_oro_id": 2,
                        "empresa_id": 1,
                        "tipo_medida_id": 1,
                        "created_at": "2025-01-15T10:30:00.000000Z",
                        "updated_at": "2025-01-15T10:30:00.000000Z",
                        "tipo_producto": {
                            "id": 1,
                            "nombre": "Oro",
                            "descripcion": "Productos de oro"
                        },
                        "tipo_oro": {
                            "id": 2,
                            "nombre": "18K",
                            "pureza": 75.0
                        },
                        "empresa": {
                            "id": 1,
                            "razon_social": "Joyería El Dorado S.A.S",
                            "nit": "900123456-7"
                        },
                        "tipo_medida": {
                            "id": 1,
                            "nombre": "Gramos",
                            "abreviatura": "g",
                            "activo": true
                        },
                        "impuestos": [
                            {
                                "id": 1,
                                "name": "IVA",
                                "percentage": 19.00,
                                "description": "Impuesto al Valor Agregado"
                            }
                        ]
                    },
                    {
                        "id": 2,
                        "nombre": "Cadena de Plata 925",
                        "descripcion": "Cadena de plata ley 925 de 50cm",
                        "codigo_barras": "7891234567891",
                        "precio_venta": 120.00,
                        "precio_compra": 85.00,
                        "peso": 12.3,
                        "imagen": null,
                        "imagen_url": null,
                        "tipo_producto_id": 2,
                        "tipo_oro_id": null,
                        "empresa_id": 1,
                        "tipo_medida_id": 1,
                        "created_at": "2025-01-14T09:15:00.000000Z",
                        "updated_at": "2025-01-14T09:15:00.000000Z",
                        "tipo_producto": {
                            "id": 2,
                            "nombre": "Plata",
                            "descripcion": "Productos de plata"
                        },
                        "tipo_oro": null,
                        "empresa": {
                            "id": 1,
                            "razon_social": "Joyería El Dorado S.A.S",
                            "nit": "900123456-7"
                        },
                        "tipo_medida": {
                            "id": 1,
                            "nombre": "Gramos",
                            "abreviatura": "g",
                            "activo": true
                        },
                        "impuestos": []
                    }
                ],
                "meta": {
                    "current_page": 1,
                    "from": 1,
                    "last_page": 5,
                    "per_page": 10,
                    "to": 10,
                    "total": 50
                },
                "links": {
                    "first": "http://example.com/api/productos?page=1",
                    "last": "http://example.com/api/productos?page=5",
                    "prev": null,
                    "next": "http://example.com/api/productos?page=2"
                },
                "stats": {
                    "total_productos": 150,
                    "productos_este_ano": 80,
                    "productos_este_mes": 12
                }
            },
            "response_401": {
                "message": "No autenticado"
            },
            "response_403": {
                "message": "No tiene permisos para ver productos"
            }
        },
        "2_obtener_producto": {
            "method": "GET",
            "url": "/api/productos/{id}",
            "description": "Obtener un producto específico por ID",
            "headers": {
                "Authorization": "Bearer {token}",
                "Accept": "application/json"
            },
            "path_parameters": {
                "id": 1
            },
            "response_200": {
                "data": {
                    "id": 1,
                    "nombre": "Anillo de Oro 18K",
                    "descripcion": "Anillo de oro de 18 quilates con diseño clásico",
                    "codigo_barras": "7891234567890",
                    "precio_venta": 350.50,
                    "precio_compra": 280.00,
                    "peso": 5.5,
                    "imagen": "productos/anillo-oro-18k.jpg",
                    "imagen_url": "http://example.com/storage/productos/anillo-oro-18k.jpg",
                    "tipo_producto_id": 1,
                    "tipo_oro_id": 2,
                    "empresa_id": 1,
                    "tipo_medida_id": 1,
                    "created_at": "2025-01-15T10:30:00.000000Z",
                    "updated_at": "2025-01-15T10:30:00.000000Z",
                    "tipo_producto": {
                        "id": 1,
                        "nombre": "Oro",
                        "descripcion": "Productos de oro"
                    },
                    "tipo_oro": {
                        "id": 2,
                        "nombre": "18K",
                        "pureza": 75.0
                    },
                    "empresa": {
                        "id": 1,
                        "razon_social": "Joyería El Dorado S.A.S",
                        "nit": "900123456-7"
                    },
                    "tipo_medida": {
                        "id": 1,
                        "nombre": "Gramos",
                        "abreviatura": "g",
                        "activo": true
                    },
                    "impuestos": [
                        {
                            "id": 1,
                            "name": "IVA",
                            "percentage": 19.00,
                            "description": "Impuesto al Valor Agregado"
                        }
                    ]
                }
            },
            "response_404": {
                "message": "Producto no encontrado"
            }
        },
        "3_crear_producto": {
            "method": "POST",
            "url": "/api/productos",
            "description": "Crear un nuevo producto",
            "headers": {
                "Authorization": "Bearer {token}",
                "Accept": "application/json",
                "Content-Type": "application/json"
            },
            "request_body_json": {
                "nombre": "Pulsera de Oro 14K",
                "descripcion": "Pulsera de oro de 14 quilates con cierre de seguridad",
                "tipo_producto_id": 1,
                "tipo_oro_id": 1,
                "empresa_id": 1,
                "codigo_barras": "7891234567892",
                "precio_venta": 450.00,
                "precio_compra": 350.00,
                "peso": 8.5,
                "tipo_medida_id": 1,
                "impuestos": [
                    1,
                    2
                ]
            },
            "request_body_multipart": {
                "nombre": "Pulsera de Oro 14K",
                "descripcion": "Pulsera de oro de 14 quilates con cierre de seguridad",
                "tipo_producto_id": 1,
                "tipo_oro_id": 1,
                "empresa_id": 1,
                "codigo_barras": "7891234567892",
                "precio_venta": 450.00,
                "precio_compra": 350.00,
                "peso": 8.5,
                "tipo_medida_id": 1,
                "imagen": "<binary_file_data>",
                "impuestos": [
                    1,
                    2
                ]
            },
            "validations": {
                "nombre": {
                    "required": true,
                    "type": "string",
                    "max_length": 255
                },
                "descripcion": {
                    "required": false,
                    "type": "string",
                    "max_length": 1000
                },
                "tipo_producto_id": {
                    "required": true,
                    "type": "integer",
                    "exists": "tipo_productos.id"
                },
                "tipo_oro_id": {
                    "required": "required_if:tipo_producto_id,1",
                    "type": "integer",
                    "exists": "tipo_oros.id"
                },
                "empresa_id": {
                    "required": "required_for_non_admin",
                    "type": "integer",
                    "exists": "empresas.id"
                },
                "codigo_barras": {
                    "required": false,
                    "type": "string",
                    "max_length": 255,
                    "unique": "productos.codigo_barras"
                },
                "precio_venta": {
                    "required": false,
                    "type": "numeric",
                    "min": 0,
                    "max": 99999999.99
                },
                "precio_compra": {
                    "required": false,
                    "type": "numeric",
                    "min": 0,
                    "max": 99999999.99
                },
                "peso": {
                    "required": false,
                    "type": "numeric",
                    "min": 0
                },
                "tipo_medida_id": {
                    "required": false,
                    "type": "integer",
                    "exists": "tipo_medidas.id"
                },
                "imagen": {
                    "required": false,
                    "type": "file",
                    "mimes": [
                        "jpeg",
                        "png",
                        "jpg",
                        "gif"
                    ],
                    "max_size_kb": 2048
                },
                "impuestos": {
                    "required": false,
                    "type": "array",
                    "items_exist": "impuestos.id"
                }
            },
            "response_201": {
                "message": "Producto creado exitosamente",
                "data": {
                    "id": 3,
                    "nombre": "Pulsera de Oro 14K",
                    "descripcion": "Pulsera de oro de 14 quilates con cierre de seguridad",
                    "codigo_barras": "7891234567892",
                    "precio_venta": 450.00,
                    "precio_compra": 350.00,
                    "peso": 8.5,
                    "imagen": "productos/pulsera-oro-14k.jpg",
                    "imagen_url": "http://example.com/storage/productos/pulsera-oro-14k.jpg",
                    "tipo_producto_id": 1,
                    "tipo_oro_id": 1,
                    "empresa_id": 1,
                    "tipo_medida_id": 1,
                    "created_at": "2025-01-15T11:00:00.000000Z",
                    "updated_at": "2025-01-15T11:00:00.000000Z",
                    "tipo_producto": {
                        "id": 1,
                        "nombre": "Oro"
                    },
                    "tipo_oro": {
                        "id": 1,
                        "nombre": "14K"
                    },
                    "empresa": {
                        "id": 1,
                        "razon_social": "Joyería El Dorado S.A.S"
                    },
                    "tipo_medida": {
                        "id": 1,
                        "nombre": "Gramos",
                        "abreviatura": "g"
                    },
                    "impuestos": [
                        {
                            "id": 1,
                            "name": "IVA",
                            "percentage": 19.00
                        },
                        {
                            "id": 2,
                            "name": "INC",
                            "percentage": 8.00
                        }
                    ]
                }
            },
            "response_422": {
                "message": "Error de validación",
                "errors": {
                    "nombre": [
                        "El campo nombre es requerido"
                    ],
                    "codigo_barras": [
                        "El código de barras ya existe"
                    ],
                    "tipo_oro_id": [
                        "El tipo de oro es requerido cuando el tipo de producto es Oro"
                    ],
                    "precio_venta": [
                        "El precio de venta debe ser un número válido"
                    ]
                }
            }
        },
        "4_actualizar_producto": {
            "method": "PUT",
            "url": "/api/productos/{id}",
            "description": "Actualizar un producto existente",
            "headers": {
                "Authorization": "Bearer {token}",
                "Accept": "application/json",
                "Content-Type": "application/json"
            },
            "path_parameters": {
                "id": 1
            },
            "request_body_json": {
                "nombre": "Anillo de Oro 18K Actualizado",
                "descripcion": "Anillo de oro de 18 quilates con diseño moderno",
                "tipo_producto_id": 1,
                "tipo_oro_id": 2,
                "empresa_id": 1,
                "codigo_barras": "7891234567890",
                "precio_venta": 380.00,
                "precio_compra": 300.00,
                "peso": 6.0,
                "tipo_medida_id": 1,
                "impuestos": [
                    1
                ]
            },
            "request_body_multipart": {
                "nombre": "Anillo de Oro 18K Actualizado",
                "descripcion": "Anillo de oro de 18 quilates con diseño moderno",
                "tipo_producto_id": 1,
                "tipo_oro_id": 2,
                "empresa_id": 1,
                "codigo_barras": "7891234567890",
                "precio_venta": 380.00,
                "precio_compra": 300.00,
                "peso": 6.0,
                "tipo_medida_id": 1,
                "imagen": "<binary_file_data>",
                "impuestos": [
                    1
                ]
            },
            "response_200": {
                "message": "Producto actualizado exitosamente",
                "data": {
                    "id": 1,
                    "nombre": "Anillo de Oro 18K Actualizado",
                    "descripcion": "Anillo de oro de 18 quilates con diseño moderno",
                    "codigo_barras": "7891234567890",
                    "precio_venta": 380.00,
                    "precio_compra": 300.00,
                    "peso": 6.0,
                    "imagen": "productos/anillo-oro-18k-nuevo.jpg",
                    "imagen_url": "http://example.com/storage/productos/anillo-oro-18k-nuevo.jpg",
                    "tipo_producto_id": 1,
                    "tipo_oro_id": 2,
                    "empresa_id": 1,
                    "tipo_medida_id": 1,
                    "created_at": "2025-01-15T10:30:00.000000Z",
                    "updated_at": "2025-01-15T11:30:00.000000Z",
                    "tipo_producto": {
                        "id": 1,
                        "nombre": "Oro"
                    },
                    "tipo_oro": {
                        "id": 2,
                        "nombre": "18K"
                    },
                    "empresa": {
                        "id": 1,
                        "razon_social": "Joyería El Dorado S.A.S"
                    },
                    "tipo_medida": {
                        "id": 1,
                        "nombre": "Gramos",
                        "abreviatura": "g"
                    },
                    "impuestos": [
                        {
                            "id": 1,
                            "name": "IVA",
                            "percentage": 19.00
                        }
                    ]
                }
            },
            "response_404": {
                "message": "Producto no encontrado"
            },
            "response_422": {
                "message": "Error de validación",
                "errors": {
                    "nombre": [
                        "Ya existe un producto con este nombre en esta empresa"
                    ]
                }
            }
        },
        "5_eliminar_producto": {
            "method": "DELETE",
            "url": "/api/productos/{id}",
            "description": "Eliminar un producto",
            "headers": {
                "Authorization": "Bearer {token}",
                "Accept": "application/json"
            },
            "path_parameters": {
                "id": 1
            },
            "response_200": {
                "message": "Producto eliminado exitosamente"
            },
            "response_404": {
                "message": "Producto no encontrado"
            },
            "response_409": {
                "message": "No se puede eliminar el producto porque tiene registros asociados",
                "details": {
                    "boletas_empeno": 5,
                    "movimientos_inventario": 12,
                    "facturas": 8
                }
            }
        },
        "6_exportar_productos": {
            "method": "GET",
            "url": "/api/productos/export",
            "description": "Exportar productos a Excel con filtros aplicados",
            "headers": {
                "Authorization": "Bearer {token}",
                "Accept": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
            },
            "query_parameters": {
                "search": "anillo",
                "tipo_producto_id": 1,
                "tipo_oro_id": 2,
                "empresa_id": 1,
                "codigo_barras": "",
                "precio_venta_min": 50.00,
                "precio_venta_max": 500.00,
                "precio_compra_min": 30.00,
                "precio_compra_max": 400.00,
                "fecha_desde": "2025-01-01",
                "fecha_hasta": "2025-12-31",
                "sort": "nombre_asc"
            },
            "response_200": {
                "content_type": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
                "content_disposition": "attachment; filename=\"productos_2025-01-15_11-30-00.xlsx\"",
                "body": "<binary_excel_file>"
            },
            "excel_structure": {
                "columns": [
                    "ID",
                    "Nombre",
                    "Descripción",
                    "Código de Barras",
                    "Tipo de Producto",
                    "Tipo de Oro",
                    "Empresa",
                    "Precio Venta",
                    "Precio Compra",
                    "Peso",
                    "Tipo de Medida",
                    "Impuestos",
                    "Fecha Creación"
                ]
            }
        },
        "7_previsualizar_importacion": {
            "method": "POST",
            "url": "/api/productos/import/preview",
            "description": "Previsualizar datos del Excel antes de importar",
            "headers": {
                "Authorization": "Bearer {token}",
                "Accept": "application/json",
                "Content-Type": "multipart/form-data"
            },
            "request_body_multipart": {
                "archivo": "<binary_excel_file>",
                "empresa_id": 1
            },
            "response_200": {
                "preview": [
                    {
                        "fila": 2,
                        "nombre": "Anillo Diamante",
                        "codigo_barras": "7891234567893",
                        "precio_venta": 1200.00,
                        "precio_compra": 950.00,
                        "peso": 3.5,
                        "tipo_producto": "Oro",
                        "tipo_oro": "18K",
                        "tipo_medida": "Gramos",
                        "impuestos": "IVA",
                        "validacion": "OK"
                    },
                    {
                        "fila": 3,
                        "nombre": "Collar Perlas",
                        "codigo_barras": "7891234567894",
                        "precio_venta": 850.00,
                        "precio_compra": 650.00,
                        "peso": 25.0,
                        "tipo_producto": "Perlas",
                        "tipo_oro": "",
                        "tipo_medida": "Gramos",
                        "impuestos": "IVA",
                        "validacion": "OK"
                    },
                    {
                        "fila": 4,
                        "nombre": "Arete Plata",
                        "codigo_barras": "7891234567893",
                        "precio_venta": 120.00,
                        "precio_compra": 85.00,
                        "peso": 4.2,
                        "tipo_producto": "Plata",
                        "tipo_oro": "",
                        "tipo_medida": "Gramos",
                        "impuestos": "",
                        "validacion": "ERROR: Código de barras duplicado"
                    }
                ],
                "total_filas": 3,
                "filas_validas": 2,
                "filas_con_errores": 1
            },
            "response_422": {
                "message": "Error de validación",
                "errors": {
                    "archivo": [
                        "El archivo es requerido"
                    ],
                    "archivo": [
                        "El archivo debe ser de tipo: xlsx, xls, csv"
                    ]
                }
            }
        },
        "8_importar_productos": {
            "method": "POST",
            "url": "/api/productos/import",
            "description": "Importar productos desde archivo Excel",
            "headers": {
                "Authorization": "Bearer {token}",
                "Accept": "application/json",
                "Content-Type": "multipart/form-data"
            },
            "request_body_multipart": {
                "archivo": "<binary_excel_file>",
                "empresa_id": 1
            },
            "response_200": {
                "message": "Importación completada exitosamente",
                "resumen": {
                    "total": 100,
                    "exitosos": 95,
                    "fallidos": 5,
                    "duplicados": 3,
                    "actualizados": 2
                },
                "errores": [
                    {
                        "fila": 5,
                        "nombre": "Producto X",
                        "error": "El código de barras ya existe"
                    },
                    {
                        "fila": 12,
                        "nombre": "Producto Y",
                        "error": "El tipo de producto 'Diamante' no existe"
                    },
                    {
                        "fila": 23,
                        "nombre": "Producto Z",
                        "error": "El precio de venta debe ser mayor a 0"
                    },
                    {
                        "fila": 45,
                        "nombre": "",
                        "error": "El nombre del producto es requerido"
                    },
                    {
                        "fila": 67,
                        "nombre": "Producto W",
                        "error": "El tipo de oro es requerido para productos de tipo Oro"
                    }
                ],
                "historial_id": 15,
                "archivo_url": "http://example.com/api/productos/import/history/15/download"
            },
            "response_422": {
                "message": "Error de validación",
                "errors": {
                    "archivo": [
                        "El archivo es requerido"
                    ],
                    "empresa_id": [
                        "La empresa es requerida para usuarios no administradores"
                    ]
                }
            },
            "response_500": {
                "message": "Error al procesar la importación",
                "error": "Error interno del servidor"
            }
        },
        "9_descargar_plantilla": {
            "method": "GET",
            "url": "/api/productos/import/template",
            "description": "Descargar plantilla Excel para importar productos",
            "headers": {
                "Authorization": "Bearer {token}",
                "Accept": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
            },
            "response_200": {
                "content_type": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
                "content_disposition": "attachment; filename=\"plantilla_productos.xlsx\"",
                "body": "<binary_excel_file>"
            },
            "excel_structure": {
                "headers": [
                    "nombre",
                    "descripcion",
                    "codigo_barras",
                    "tipo_producto",
                    "tipo_oro",
                    "precio_venta",
                    "precio_compra",
                    "peso",
                    "tipo_medida",
                    "impuestos"
                ],
                "example_rows": [
                    {
                        "nombre": "Anillo de Oro 18K",
                        "descripcion": "Anillo de oro con diseño clásico",
                        "codigo_barras": "7891234567890",
                        "tipo_producto": "Oro",
                        "tipo_oro": "18K",
                        "precio_venta": 350.50,
                        "precio_compra": 280.00,
                        "peso": 5.5,
                        "tipo_medida": "Gramos",
                        "impuestos": "IVA"
                    },
                    {
                        "nombre": "Cadena de Plata 925",
                        "descripcion": "Cadena de plata ley 925",
                        "codigo_barras": "7891234567891",
                        "tipo_producto": "Plata",
                        "tipo_oro": "",
                        "precio_venta": 120.00,
                        "precio_compra": 85.00,
                        "peso": 12.3,
                        "tipo_medida": "Gramos",
                        "impuestos": ""
                    }
                ]
            }
        },
        "10_historial_importaciones": {
            "method": "GET",
            "url": "/api/productos/import/history",
            "description": "Obtener historial de importaciones de productos",
            "headers": {
                "Authorization": "Bearer {token}",
                "Accept": "application/json"
            },
            "query_parameters": {
                "empresa_id": 1,
                "fecha_desde": "2025-01-01",
                "fecha_hasta": "2025-12-31",
                "page": 1,
                "per_page": 10
            },
            "response_200": {
                "data": [
                    {
                        "id": 15,
                        "archivo_nombre": "productos_enero_2025.xlsx",
                        "archivo_path": "imports/productos/2025/01/productos_enero_2025.xlsx",
                        "empresa_id": 1,
                        "user_id": 1,
                        "total_filas": 100,
                        "filas_exitosas": 95,
                        "filas_fallidas": 5,
                        "errores": [
                            {
                                "fila": 5,
                                "error": "Código de barras duplicado"
                            },
                            {
                                "fila": 12,
                                "error": "Tipo de producto no existe"
                            }
                        ],
                        "created_at": "2025-01-15T10:30:00.000000Z",
                        "empresa": {
                            "id": 1,
                            "razon_social": "Joyería El Dorado S.A.S",
                            "nit": "900123456-7"
                        },
                        "user": {
                            "id": 1,
                            "name": "Juan Pérez",
                            "email": "juan.perez@example.com"
                        }
                    },
                    {
                        "id": 14,
                        "archivo_nombre": "productos_diciembre_2024.xlsx",
                        "archivo_path": "imports/productos/2024/12/productos_diciembre_2024.xlsx",
                        "empresa_id": 1,
                        "user_id": 2,
                        "total_filas": 50,
                        "filas_exitosas": 50,
                        "filas_fallidas": 0,
                        "errores": [],
                        "created_at": "2024-12-20T14:20:00.000000Z",
                        "empresa": {
                            "id": 1,
                            "razon_social": "Joyería El Dorado S.A.S",
                            "nit": "900123456-7"
                        },
                        "user": {
                            "id": 2,
                            "name": "María González",
                            "email": "maria.gonzalez@example.com"
                        }
                    }
                ],
                "meta": {
                    "current_page": 1,
                    "from": 1,
                    "last_page": 3,
                    "per_page": 10,
                    "to": 10,
                    "total": 25
                },
                "links": {
                    "first": "http://example.com/api/productos/import/history?page=1",
                    "last": "http://example.com/api/productos/import/history?page=3",
                    "prev": null,
                    "next": "http://example.com/api/productos/import/history?page=2"
                }
            }
        },
        "11_detalle_importacion": {
            "method": "GET",
            "url": "/api/productos/import/history/{id}",
            "description": "Obtener detalles de una importación específica",
            "headers": {
                "Authorization": "Bearer {token}",
                "Accept": "application/json"
            },
            "path_parameters": {
                "id": 15
            },
            "response_200": {
                "data": {
                    "id": 15,
                    "archivo_nombre": "productos_enero_2025.xlsx",
                    "archivo_path": "imports/productos/2025/01/productos_enero_2025.xlsx",
                    "archivo_size": 245678,
                    "empresa_id": 1,
                    "user_id": 1,
                    "total_filas": 100,
                    "filas_exitosas": 95,
                    "filas_fallidas": 5,
                    "errores": [
                        {
                            "fila": 5,
                            "nombre": "Producto X",
                            "error": "El código de barras ya existe",
                            "codigo_barras": "7891234567893"
                        },
                        {
                            "fila": 12,
                            "nombre": "Producto Y",
                            "error": "El tipo de producto 'Diamante' no existe",
                            "tipo_producto": "Diamante"
                        },
                        {
                            "fila": 23,
                            "nombre": "Producto Z",
                            "error": "El precio de venta debe ser mayor a 0",
                            "precio_venta": -10
                        },
                        {
                            "fila": 45,
                            "nombre": "",
                            "error": "El nombre del producto es requerido"
                        },
                        {
                            "fila": 67,
                            "nombre": "Producto W",
                            "error": "El tipo de oro es requerido para productos de tipo Oro",
                            "tipo_producto": "Oro",
                            "tipo_oro": ""
                        }
                    ],
                    "productos_creados": [
                        {
                            "id": 101,
                            "nombre": "Anillo Diamante Premium",
                            "codigo_barras": "7891234567900"
                        },
                        {
                            "id": 102,
                            "nombre": "Collar Esmeralda",
                            "codigo_barras": "7891234567901"
                        }
                    ],
                    "created_at": "2025-01-15T10:30:00.000000Z",
                    "empresa": {
                        "id": 1,
                        "razon_social": "Joyería El Dorado S.A.S",
                        "nit": "900123456-7",
                        "direccion": "Calle 123 #45-67",
                        "telefono": "+57 300 1234567"
                    },
                    "user": {
                        "id": 1,
                        "name": "Juan Pérez",
                        "email": "juan.perez@example.com",
                        "role": "Administrador"
                    }
                }
            },
            "response_404": {
                "message": "Historial de importación no encontrado"
            }
        },
        "12_descargar_archivo_importacion": {
            "method": "GET",
            "url": "/api/productos/import/history/{id}/download",
            "description": "Descargar archivo Excel original de una importación",
            "headers": {
                "Authorization": "Bearer {token}",
                "Accept": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
            },
            "path_parameters": {
                "id": 15
            },
            "response_200": {
                "content_type": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
                "content_disposition": "attachment; filename=\"productos_enero_2025.xlsx\"",
                "body": "<binary_excel_file>"
            },
            "response_404": {
                "message": "Archivo de importación no encontrado"
            }
        },
        "13_busqueda_rapida": {
            "method": "GET",
            "url": "/api/productos/search",
            "description": "Búsqueda rápida de productos para autocomplete/select",
            "headers": {
                "Authorization": "Bearer {token}",
                "Accept": "application/json"
            },
            "query_parameters": {
                "q": "anillo",
                "empresa_id": 1,
                "tipo_producto_id": 1,
                "limit": 10
            },
            "response_200": {
                "data": [
                    {
                        "id": 1,
                        "nombre": "Anillo de Oro 18K",
                        "codigo_barras": "7891234567890",
                        "precio_venta": 350.50,
                        "precio_compra": 280.00,
                        "peso": 5.5,
                        "imagen_url": "http://example.com/storage/productos/anillo-oro-18k.jpg",
                        "tipo_producto": {
                            "id": 1,
                            "nombre": "Oro"
                        },
                        "tipo_oro": {
                            "id": 2,
                            "nombre": "18K"
                        }
                    },
                    {
                        "id": 3,
                        "nombre": "Anillo de Plata 925",
                        "codigo_barras": "7891234567895",
                        "precio_venta": 85.00,
                        "precio_compra": 60.00,
                        "peso": 3.2,
                        "imagen_url": null,
                        "tipo_producto": {
                            "id": 2,
                            "nombre": "Plata"
                        },
                        "tipo_oro": null
                    }
                ]
            }
        },
        "14_estadisticas_productos": {
            "method": "GET",
            "url": "/api/productos/stats",
            "description": "Obtener estadísticas generales de productos",
            "headers": {
                "Authorization": "Bearer {token}",
                "Accept": "application/json"
            },
            "query_parameters": {
                "empresa_id": 1
            },
            "response_200": {
                "data": {
                    "total_productos": 150,
                    "productos_este_ano": 80,
                    "productos_este_mes": 12,
                    "productos_por_tipo": [
                        {
                            "tipo_producto_id": 1,
                            "tipo_producto_nombre": "Oro",
                            "cantidad": 50,
                            "porcentaje": 33.33
                        },
                        {
                            "tipo_producto_id": 2,
                            "tipo_producto_nombre": "Plata",
                            "cantidad": 40,
                            "porcentaje": 26.67
                        },
                        {
                            "tipo_producto_id": 3,
                            "tipo_producto_nombre": "Perlas",
                            "cantidad": 30,
                            "porcentaje": 20.00
                        },
                        {
                            "tipo_producto_id": 4,
                            "tipo_producto_nombre": "Diamantes",
                            "cantidad": 20,
                            "porcentaje": 13.33
                        },
                        {
                            "tipo_producto_id": 5,
                            "tipo_producto_nombre": "Otros",
                            "cantidad": 10,
                            "porcentaje": 6.67
                        }
                    ],
                    "productos_por_empresa": [
                        {
                            "empresa_id": 1,
                            "empresa_nombre": "Joyería El Dorado S.A.S",
                            "cantidad": 100
                        },
                        {
                            "empresa_id": null,
                            "empresa_nombre": "Productos Globales",
                            "cantidad": 50
                        }
                    ],
                    "valor_total_inventario": {
                        "precio_venta": 125000.50,
                        "precio_compra": 95000.00,
                        "margen": 30000.50,
                        "margen_porcentaje": 31.58
                    },
                    "productos_con_imagen": 120,
                    "productos_sin_imagen": 30,
                    "productos_con_codigo_barras": 140,
                    "productos_sin_codigo_barras": 10,
                    "precio_promedio_venta": 833.34,
                    "precio_promedio_compra": 633.33,
                    "peso_total_gramos": 2500.75,
                    "ultimos_productos_creados": [
                        {
                            "id": 150,
                            "nombre": "Collar Esmeralda Premium",
                            "precio_venta": 2500.00,
                            "created_at": "2025-01-15T10:30:00.000000Z"
                        },
                        {
                            "id": 149,
                            "nombre": "Pulsera Diamante Lujo",
                            "precio_venta": 3200.00,
                            "created_at": "2025-01-14T15:20:00.000000Z"
                        },
                        {
                            "id": 148,
                            "nombre": "Anillo Rubí Clásico",
                            "precio_venta": 1800.00,
                            "created_at": "2025-01-13T09:10:00.000000Z"
                        }
                    ]
                }
            }
        }
    },
    "common_error_responses": {
        "401_unauthorized": {
            "message": "No autenticado",
            "error": "Unauthenticated"
        },
        "403_forbidden": {
            "message": "No tiene permisos para realizar esta acción",
            "required_permission": "registros.view"
        },
        "404_not_found": {
            "message": "Recurso no encontrado"
        },
        "422_validation_error": {
            "message": "Error de validación",
            "errors": {
                "campo": [
                    "Mensaje de error específico"
                ]
            }
        },
        "429_too_many_requests": {
            "message": "Demasiadas solicitudes. Por favor, intente más tarde.",
            "retry_after": 60
        },
        "500_internal_server_error": {
            "message": "Error interno del servidor",
            "error": "Descripción del error (solo en desarrollo)"
        }
    },
    "authentication": {
        "type": "Bearer Token",
        "header": "Authorization: Bearer {token}",
        "token_type": "Laravel Sanctum",
        "token_expiration": "No expira (hasta que se revoque)",
        "example_login": {
            "url": "/api/login",
            "method": "POST",
            "body": {
                "email": "usuario@example.com",
                "password": "password123"
            },
            "response": {
                "token": "1|abcdefghijklmnopqrstuvwxyz1234567890",
                "user": {
                    "id": 1,
                    "name": "Juan Pérez",
                    "email": "usuario@example.com"
                }
            }
        }
    },
    "rate_limiting": {
        "general_endpoints": {
            "limit": 60,
            "period": "1 minute"
        },
        "import_endpoints": {
            "limit": 10,
            "period": "1 minute"
        }
    },
    "pagination": {
        "default_per_page": 10,
        "max_per_page": 100,
        "meta_structure": {
            "current_page": 1,
            "from": 1,
            "last_page": 5,
            "per_page": 10,
            "to": 10,
            "total": 50
        }
    }
}